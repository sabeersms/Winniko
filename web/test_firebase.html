<!DOCTYPE html>
<html>

<head>
    <title>Firebase Debug</title>
</head>

<body style="font-family: sans-serif; padding: 20px;">
    <h2>Firebase Login Debug</h2>
    <p>Testing exact config from firebase_options.dart</p>

    <input id="email" placeholder="email" value="sabeersms@gmail.com" style="padding: 8px;">
    <input id="pass" type="password" placeholder="password" style="padding: 8px;">
    <button onclick="login()" style="padding: 8px 16px;">Login</button>

    <div id="log" style="background:#eee; padding:10px; margin-top: 20px; white-space: pre-wrap;">Ready...</div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        // Configuration from your firebase_options.dart (Android Key)
        const config = {
            apiKey: "AIzaSyBkFmkE1aXrdJsFIh7ySDaWM4TV0qrn9rU",
            authDomain: "winniko-579d4.firebaseapp.com",
            projectId: "winniko-579d4",
            appId: "1:688066819982:web:0af680960426c3959396df"
        };

        const app = initializeApp(config);
        const auth = getAuth(app);

        window.login = () => {
            const e = document.getElementById("email").value;
            const p = document.getElementById("pass").value;
            const log = document.getElementById("log");

            log.innerText = "Attempting login with:\nKey: " + config.apiKey + "\nProject: " + config.projectId + "\n...";

            signInWithEmailAndPassword(auth, e, p)
                .then(u => {
                    log.innerText += "\n\n✅ SUCCESS! Logged in as: " + u.user.email;
                    log.style.backgroundColor = "#dff0d8";
                })
                .catch(err => {
                    log.innerText += "\n\n❌ FAILURE: " + err.code + "\n" + err.message;
                    log.style.backgroundColor = "#f2dede";
                    console.error(err);
                });
        };
    </script>
</body>

</html>